language: node_js

node_js:
    - "7.8.0"

env:
    global:
        - NODE_ENV=test

dist: trusty

cache:
    directories:
        - node_modules

before_script:
    - cp ./config/test-dist.js ./config/test.js
    - docker-compose -f docker-compose.e2e.yml up -d mongo
    - sleep 3

install:
    - "make --silent install"
