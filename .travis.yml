language: node_js

node_js:
    - "8.9.1"

env:
    global:
        - NODE_ENV=test

dist: trusty

cache:
    directories:
        - node_modules

before_script:
    - cp ./config/test-dist.js ./config/test.js
    - docker-compose up -d mongo api
    - sleep 10

install:
    - "make --silent install"
